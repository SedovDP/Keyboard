# Как создать свою клавиатуру

**Содержание**

[Название файла клавиатуры](#naming_keyboard_file)

[Формат файла клавиатуры](#formating_keyboard_file)

[Атрибуты тэга Keyboard](#keyboard_tag)

[Атрибуты тэгов Row](#row_tags)

[Атрибуты тэгов Key](#key_tags)

[Теги Replace](#replace_tags)

[Коды клавиш](#keycodes)

[Калькулятор](#calculator)

[Примeр стандартной английской раскладки "псевдо Т9 в1.09"](#keyboard_sample)

Файлы клавиатур выкладываются в папку */mnt/sdcard/jbak2Keyboard/keyboards/*.
Далее клавиатуру необходимо выбрать в настройках.В окне настроек программы выбираем *Языки и клавиатуры*, нажимаем кнопку с клавиатурой напротив нужного языка.Пролистываем список клавиатур, на нужной нажимаем кнопку "Сохранить".

<a name="naming_keyboard_file">
## Название файла клавиатуры
Название файла клавиатуры начинается с двухбуквенного кода языка, после него следует подчёркивание. Например,
 - *ru_Wide keys.xml* - клавиатура *Wide keys* для русского языка
 - *en_5 rows with numbers.xml* - клавиатура *5 rows with numbers* для английского языка
Коды всех языков мира можно узнать по ссылке: [Википедия - Коды_языков](http://ru.wikipedia.org/wiki/Коды_языков)

Вместо кода языка может быть одно из значений:
 - *symbol* - клавиатура для набора символов (запускается по нажатию кнопки 123 с основной клавиатуры)
 - *symbol2* - дополнительная клавиатура для набора символов (запускается по нажатию клавиши Shift на символьной клавиатуре)
 - *edittext* - клавиатура для редактирования текста (запускается по удержанию клавиши Shift на основной клавиатуре)
 - *smile* - клавиатура для ввода смайликов (запускается по удержанию клавиши Enter)
 - *num* - числовая клавиатура, которая открывается в полях ввода телефонных номеров или числовых значений
 - *calc* - раскладка калькулятора
 - *hide* - раскладка не будет отображаться в списке выбора языков (иногда бывает необходимо)
Расширение файла - *.xml* . Файл обязательно должен быть в кодировке *UTF-8*.


<a name="formating_keyboard_file"></a>
## Формат файла клавиатуры
**Все теги и атрибуты регистрозависимы! Будьте внимательны.**
Для удобства отладки, если какой-то тег для конкретной клавиши ошибочен, то выводится сообщение об ошибке с указанием, в какой клавише по счёту от начала эта ошибка возникла.
Если любой атрибут в клавише начинается с *xxx*, то сообщение об ошибке подавляется.
Например, если указать *android:keyLabel="adc"*, то сообщения об ошибке не будет. Всё написано верно.
А если указать *android:keylabel="abc"*, то будет сообщение об ошибке - правильно *keyLabel*.
Если же указать *android:xxxkeyLabel="abc"*, то сообщения об ошибке не будет, но тег обработан не будет.
По правилам языка XML, внутри атрибутов вместо некоторых символов необходимо писать особые значения:
 - & - &amp;amp;
 - < - &amp;lt;
 - > - &amp;gt;
 - ' - &amp;apos;
 - " - &amp;quot;
Если клавиатура не загружается - проверьте, нет ли в каком-то атрибуте одного из этих символов.
Атрибуты *android:keyWidth* и *android:horizontalGap* рекомендуется задавать в процентах от общей ширины экрана.
Например, *android:keyWidth="10%p"* - задаст ширину клавиши в 10 %.
Можно и в пикселях, например 10px, но этот размер не будет масштабироваться в зависимости от разрешения экрана
Структура файла раскладки такова:

    <Keyboard>
    <Row>
     <Key атрибуты />
     <Key атрибуты />
     <Key атрибуты />
     ...
    </Row>    <Row>

     <Key атрибуты />

     <Key атрибуты />

     <Key атрибуты />

     ...

    </Row>
    ...
    <Replace from="11" to=":)"/>
    </Keyboard>
Для каждой секции имеются свои атрибуты.<a name="keyboard_tag"></a>
## Атрибуты тэга Keyboard
*&lt;Keyboard&gt;* тэг содержит значения для всей клавиатуры.

**Обязательный атрибут** с единственным значением -  *xmlns:android="http://schemas.android.com/apk/res/android"*.

### Необязательные атрибуты:
**android:horizontalGap** - отступ клавиш от левого края клавиатуры или от другой клавиши (в пикселях и в процентах)
**android:verticalGap** - отступ клавиш от верха клавиатуры или другой клавиши
**android:keyWidth** - ширина клавиши по умолчанию - для тех клавиш, у которых не задан свой атрибут *android:keyWidth*
**android:typeKeyboard** - отвечает за тип раскладки. Например, *android:typeKeyboard="calculator"* говорит программе, что это раскладка калькулятора и нужно включить индикатор калькулятора. Пока имеет только одно значение *calculator*.
<a name="row_tags"></a>
## Атрибуты тегов Row
*&lt;Row&gt;* cтрока клавиатуры. Внутри тэга содержатся клавиши, относящиеся к данной строке.
Доступные атрибуты:
**android:keyHeight="80%p"** - высота строки клавиш. Задается в процентах от высоты, заданой пользователем. Если не задано - 100%
**android:verticalGap="10%p"** - отступ ряда от предыдущего или от верха клавиатуры

<a name="key_tags"></a>
## Атрибуты тегов Key
ЗАМЕЧАНИЕ. Если тэг начинается с xxx, то сообщение об ошибке подавляется. Например, *android:xxxkeyLabel="1\nq", android:xxxhorizontalGap="10%p"*. Применяется при отладке.
*&lt;Key&gt;* - определяет отдельную клавишу.

### Список всех возможных атрибутов и их значений:
**android:keyLabel="1\nq"** - текстовая метка для клавиши в виде *"текст_для_ввода_по_долгому_нажатию*|разделитель *\n*|*основной_текст"*.
Если разделителя *\n* нет - то содержимое метки будет показано как основной текст клавиатуры. Символ \&nbsp;(обратный слэш) необходимо дублировать. Также некоторые символы вводятся по правилам xml (например &amp;amp; - для &).
Есть несколько специальных значений:

 - *d_vr* - голосовой ввод

 - tab - табуляция

 - opt - запуск основного меню клавиатуры

**android:codes="32"** - код клавиши. Для буквенных клавиш не требуется. Содержит код символа для ввода в кодировке UNICODE или один из управляющих кодов (см. раздел [Коды клавиш](#keycodes)).

Также может содержать несколько буквенных кодов, через запятую. Тогда при коротких нажатиях клавиш происходит перебор между указанными кодами.

Например, *android:codes="1081,1082,1083"* - перебирает буквы й, к, л.
**android:longCode** - код, выполняющийся по удержанию клавиши. Содержит код символа для ввода в кодировке UNICODE или один из управляющих кодов (см. раздел [Коды клавиш](#keycodes))
**android:comboKeyCodes** - применяется для организации на одной клавише комбинаций двух клавиш (*Ctrl-c*, *Alt-b*, *Shift-a* и т.д) по короткому нажатию.
Если у клавиши есть этот атрибут, то имитируется одновременное нажатие двух клавиш - в систему отправляется код прописанный в атрибуте *comboKeyCodes* и вместе с ним код прописанный в атрибуте *codes*.
Замечание! Если атрибут codes содержит несколько кодов, то и этот тег должен иметь их столько же или меньше, но не менее одного.
Если вместо кода в данном теге на определённой позиции указать 0, то данная позиция считается не комбинируемой клавишей и тогда в систему отправляется только исходный код.
Например:
    <Key android:keyLabel="a,sAll" android:codes="97,-5113"  android:comboKeyCodes="0,-5029"/>

  - одно нажатие - введётся буква "а", а второе - выделит весь текст (комбинация *Ctrl-a*). Код *-5113*, это кейкод клавиши *Ctrl*, а *-5029* - кейкод клавиши *A*. О кейкодах написано ниже.
**android:longComboKeyCode** - применение то же, что и у атрибута *comboKeyCodes*, но для длинного нажатия. Можно указать только один код.

Пример выше будет выглядеть так:
    <Key android:keyLabel="sAll\na," android:longCode="-5113"  android:longComboKeyCode="-5029"/>

  - по короткому нажатию введётся буква "а", а по длинному - выделится всё.
Обработка кейкодов символов
Если в теге codes (longCode) указать значение -5029, то в систему будет послан символ "a" (код 29), если -5131, то код клавиши F1(131) и т.д.
Доступные в системе кейкоды: <https://developer.android.com/reference/android/view/KeyEvent.html?hl=ru>
Данные атрибуты поддерживают обработку кейкодов клавиш (KeyEvent.KEYCODE_\* кто в курсе). Если в атрибуте *codes* или *longCode* указать значение *-5029*, то в систему будет послан символ "a" (кейкод символа 'a'), если *-5131*, то код клавиши *F1*(кейкод *131*) и т.д.
**android:keyIcon** - иконка клавиши. Подробно в разделе [Иконки клавиш](#key_icons).
**android:keyWidth="32%p"** - ширина клавиши в процентах от ширины экрана. Может быть дробным значением, например "12.5%p" - разделитель точка. Если общая ширина клавиш в пределах тэга *Row* больше 100% - клавиши вылезут за пределы экрана.
**android:keyHeight="20%p"** - высота отдельной клавиши. Если не задана, то берётся высота для ряда.
**android:horizontalGap="10%p"** - отступ клавиши от левого края экрана или от предыдущей клавиши. Если не задан - отступ нулевой.
**android:isSticky** - если значение "true" - клавиша имеет 2 положения - нажата и отпущена. В нажатом положении на клавише появляется зеленый кружок Применяется для клавиш *Shift*, *Select*, *Ctrl*, *Alt* и *Hotkey*, для остальных не имеет смысла.
**android:isRepeatable** - если значение "true" - при удержании клавиши ввод повторяется. Используется для клавиш *Пробел*, *Backspace* и курсорныхстрелок.
**android:help** - задает текст помощи. Имеет смысл в паре с командой (-514). Например:
    <Key android:codes="-514" android:keyLabel="Help" android:help="this is text" />
 - выведет на кнопке слово "Help", при нажатии на нее запустит экран в который выведет текст "this is text". Перевод на следующую строку - \n.
**android:calcReg** -имеет смысл только в калькуляторах. Устанавливает соответствие клавиши номеру одного из регистров памяти в калькуляторе.Например:
        <Key android:calcReg"14" android:keyLabel="0" android:codes="-540" />
 - присвоит клавише -540 калькулятора регистр памяти 14.
Количество регистров ограничено количеством клавиш калькулятора. Всего в калькуляторе 99 регистров памяти.
Так как, программа не позволяет отобразить визуально регистры (вернее я не придумал как), то рекомендую описывать соответствие назначенных клавишам регистров памяти при помощи тега help.
**android:calcMenu** - имеет смысл только в калькуляторах при включении индикатора (клавиша *Сх* - код *-556*).

Если есть, показывает указанные пункты меню, перечисленные через пробел, в порядке, в каком перечислены, если нет - выдаёт только историю (аналог значения history).
Формат: *android:calcMenu="history list"* - покажет в меню калькулятора историю вычислений и кнопку листинга программы калькулятора.
Возможные значения:
 - history - история вычислений
 - list - запись в текст листинга программы
 - save - запись программы калькулятора
 - load - загрузить программу калькулятора
В будущем варианты значений могут быть расширены.
**android:popupCharacters** - строка, содержащая набор символов. Если задана - по удержанию клавиши выводится маленькая клавиатура, позволяющая ввести каждый из указанных символов. Оптимально - 18 символов (на 4.5" экране).
Тег *keyLabel* обязательно должен присутствовать и иметь значение по долгому нажатию!
Поддерживает 2 формата:
 - если строка имеет вид *"abcd"*, то выведется маленькая клавиатура содержащая 4 кнопки "a", "b", "c", "d",

 - если строка имеет вид *"v2 abcd"*, то выведется маленькая клавиатура второй версии, содержащая одну кнопку "abcd".
**android:shortPopupCharacters** - cтрока, содержащая набор символов. Если задана - по короткому нажатию клавиши выводится маленькая клавиатура, позволяющая ввести указанные слова.
Всегда вызывается только маленькая клавиатура версии 2 (читай выше), однако префикс "v2" указывать не нужно.
Кроме того, для маленькой клавиатуры *v2* есть возможность задать любой исполняемый код (или символ - тогда вместо символа указывайте его код) из имеющихся в клавиатуре.
Для этого создаваемая кнопка задаётся в специальном формате (БЕЗ ПРОБЕЛОВ!). Например:
 - *$[-502,Шаблоны]* - при нажатии на неё откроются шаблоны;
 - *$[32,Пробел]* - при нажатии на неё введётся пробел.
**android:noColor** - если "true" - изображение на клавише не окрашивается в цвет текста и используется как есть. Имеет смысл только для клавиш с аттрибутом *keyIcon*.
**android:specKey** - имеет смысл в скинах, где функциональные клавиши отличаются оформлением от буквенных. Значения:
 - "true" - клавиша рисуется с оформлением функциональных клавиш, как например клавиша *Shift*

 - "false" - клавиша со стандартным оформлением
Если при текущем скине все клавиши рисуются с одинаковым фоном - этот атрибут игнорируется. Если не задан - программа сама выбирает нужный фон.
**android:goQwerty** - имеет смысл только на дополнительных клавиатурах. Значения:

 - "true" - после нажатия клавиши происходит возврат на основную qwerty-клавиатуру

 - "false" - после нажатия клавиши остаемся на дополнительной клавиатуре
**android:smallLabel** - позволяет вывести основной текст на клавиатуре тем же шрифтом, которым выводятся дополнительные символы. Костыль для длинных текстов.
**android:keyOutputText** - при нажатии на кнопку выводит текст любой длины. Например: *keyOutputText="Пусть всегда будет солнце"* - тег работает,так что ничего трогать не надо.
**android:longKeyOutputText** - то же самое,только на долгое нажатие, также работает
**android:keyboard** (keyboard именно с маленькой буквы)

или
**android:longKeyboard ="$$smile4"**
запускает xml раскладку клавиатуры с названием "smile4_my_file.xml" по короткому (keyboard) или длинному (longKeyboard) нажатию.
Значение атрибута - путь к клавиатуре от корня папки jbak2Keyboard или полный путь (если начинается с / ).
Также доступны специальные значения:
 - *$название* - открытие встроенной клавиатуры по имени (см.примеры)
 - *$$тип* - тип может быть *ru*, *en*, *symbol*, *num* и т.д. Открывает настроенную пользователем клавиатуру указанного типа, для текущей ориентации экрана. Открытая таким образом клавиатура - временная. Нажатие кнопки c кодом *-2* - возвращает к основной клавиатуре, даже если одна клавиатура была открыта из другой.
Например:
 - *android:keyboard="$$calc"* - откроет сохраненную в настройках раскладку калькулятора
 - *android:longKeyboard="$$ru"* - откроет сохраненную в настройках раскладку русского языка.
 - *android:keyboard="$ru_qwerty"* - откроет встроенную русскую раскладку "клавиатура qwerty" из папки assets приложения
 - *android:keyboard="$ru_example.xml"* - откроет русскую раскладку *ru_example.xml*, лежащую в папке *jbak2keyboard/keyboards*.
Для кастомных клавиатур доступны атрибуты *template* и *longTemplate*, позволяющие использовать механизм шаблонов по короткому и долгому нажатию<a name="replace_tags"></a>
## Теги Replace

Формат: *&lt;Replace from="11" to=":)"/&gt;*
Указывается под всеми рядами клавиш, но перед перед закрывающим тэгом *&lt;</Keyboard>&lt;*.
Когда пользователь вводит текст, записанный в *from* - заменяет его текстом из атрибута *to*. Работает с учетом регистра. Таких тегов может быть неограниченное количество.
<a name="keycodes"></a>
## Коды клавиш
Для буквенных клавиш используются коды символов в кодировке *utf-8*. Коды могут быть записаны как в десятичной, так и в шестнадцатеричной системе (в этом случае число начинается с *0x* или *#*) Например, русская буква 'а' может быть записана как *1072* или *0x430*.
**Клавиши управления курсором:**
19 - вверх
20 - вниз
21 - влево
22 - вправо
-303 - переход в начало всего текста
-304 - переход в конец всего текста
-305 - переход в начало абзаца
-306 - переход в конец абзаца
-326 - страница вверх
-327 - страница вниз
-328 - Home (в начало строки)
-329 - End (в конец строки)
-310 - включение/отключение режима выделения
-307 - включение/отключение режима горячих клавиш (клавиша Hotkey)
-330 - запись макроса1
-331 - выполнение макроса1
-332 - очистка макроса1
-333 - запись макроса2
-334 - выполнение макроса2
-335 - очистка макроса2
Внимание! Макросы не будут работать если они вызываются из раскладок с типом *hide*!
**Текстовые команды:**
-320 - Copy (копирует выбранный текст)
-321 - Paste (вставляет текст из буфера обмена)
-322 - Cut (копирует выбранный текст в буфер обмена и удаляет его)
-323 - Select All (выделяет весь текст в поле ввода)
-324 - копировать всё
-325 - информационная команда - показывает размер выделенного текста
-336 - отменить последнее действие (Undo)
-337 - повторить последнее действие (Redo)
-338 - функции выделения
**Qwerty - клавиатура:**
32 - клавиша пробел
10 - клавиша Enter
9 - клавиша Tab
-1 - клавиша Shift
-308 - клавиша Alt (левый)
-311 - клавиша Alt (правый)
-309 - клавиша Ctrl (левая)
-5 - клавиша Baсkspace - удаляет символ ПЕРЕД курсором
-601 - клавиша Delete - удаляет символ ПОСЛЕ курсора (если есть)
-602 - удаляет СЛОВО ПЕРЕД курсором
-2 - код клавиши для вызова символьной клавиатуры (123) или возврата на qwerty (ABC)
-3 - код клавиши, закрывающей клавиатуру
-20 - переключает язык по кругу, если языков больше 3 - показывает меню выбора языка
-21 - показывает меню выбора, даже если два языка
-22 - переключает между последними двумя языками
-23 - переключает языки по кругу, без ограничения числа языков

**Обычно используются только в жестах:**
-604 - ввод символа на символьной клавише в верхнем регистре
-605 - ввод символа на символьной клавише в нижнем регистре
-606 - ввод текста (или символа) указанного по длинному нажатию клавиши

**Внутренние коды:**
-498 - сохранение программы калькулятора
-499 - загрузка программы калькулятора
-500 - запуск главного меню (аналог смотри описание "opt" в теге *keyLabel*)
-501 - голосовой ввод
-502 - запуск шаблонов
-503 - запуск настроек программы
-504 - запуск буфера обмена
-507 - экран запуска приложений
-508 - запуск выбора текущей раскладки языка
-623 - быстрая смена текущей раскладки языка (через меню)
-511 - запуск настройки показа пунктов главного меню
-512 - запуск настройки выбора скина
-513 - запуск выбора метода ввода языка
-514 - запуск окна помощи. Текст берется из тега android:help этой клавиши
-515 - выбор метода ввода
-516 - история вычислений калькулятора
-517 - запуск калькулятора
-518 - запись текста программы калькулятора в текст (листинг программы)
-519 - скрывает/показывает окно автодополнения
-607 - выбор полноэкранного режима
-608 - перевести выделенное
-609 - перевести скопированное
-610 - запуск раскладки смайликов
-611 - запуск раскладки редактирования
-612 - запуск числовой раскладки
-613 - поделиться выделенным
-614 - поиск выделенного в браузере
-615 - поиск скопированного в браузере
-616 - запуск редактора словаря пользователя
-617 - показывает скопированное число в различных системах счисления
-622 - временное отключение словаря
-623 - быстрая смена раскладки для языка
-624 - поделиться скопированным
-625 - ввод спецсимволов в поле ввода
-626 - быстрая смена скина
-627 - запуск выбора языков и раскладок
<a name="calculator">
## Калькулятор:
Весь калькулятор реализован через коды.
Что нужно от клавиш калькулятора? Требуется чтобы при нажатии клавиши не производился вывод в поле ввода.
**Общее:**
-540..-549 - клавиши 0..9
-550 - никакой операции (подавляет вывод на экран)
-552 - клавиша умножить
-553 - клавиша делить
-554 - клавиша плюс
-555 - клавиша минус
-556 - клавиша очистки содержимого регистра *х* (Cx). Она же включает индикатор калькулятора
-557 - клавиша копирования содержимого регистра *x* в *y*, *y* в *z* (команда "В стрелка вверх" в МК61)
-558 - клавиша обмена содержимого регистров *x* и *y*
-536 - клавиша вращает содержимое регистров по кругу: t-z-y-x-(а х помещается в t)
-559 - клавиша минуса по модулю ("/-/")
-560 - клавиша "точка" (".") - означает что после её нажатия будет вводиться дробная часть
-561 - клавиша окончания работы с калькулятором. Обязательна для использования в калькуляторе. Аналог клавиши (-2). Выключает индикатор и восстанавливает данные окна автодополнения.
-562 - клавиша включения индикатора калькулятора. Ничего не делает. Можно использовать в других различных целях
-565 - клавиша "шаг вперед" - прибавляет к концу значения индикатора 0
-566 - клавиша "шаг назад" - убирает последнюю цифру из значения индикатора

**Функции калькулятора:**
-563 - клавиша *x^2* (*х* в квадрате)
-564 - клавиша *sqrt(x)* (корень квадратный из *x*)
-567 - клавиша %
-585 - число Пи
-586 - синус
-587 - косинус
-588 - тангенс
-589 - арксинус
-590 - арккосинус
-591 - арктангенс
-592 - *1/x*
-593 - *x^y* (*x* в стенени *y*)
-535 - ВП (*x* в стенени 10)
-594 - LOG
-595 - случайное число (от 0 до 1)
-596 - возвращает целую часть числа
-597 - LOG10
-539 - *e*
-538 - *е^х*
-537 - факториал
-600 - *round* - округляет до указанного числа знаков дробной части. Например, на индикаторе 5.888889, тогда *round+цифра 2* калькулятора вернет 5.89.

**Память:** отдельная ячейка памяти. Не зависит от клавиши
-568 - клавиша "M" - запоминает значение индикатора в памяти
-569 - клавиша "MR" - читает из памяти запомненное ранее значение и выдаёт его на индикатор калькулятора
-570 - клавиша "MC" - очищает значение в ячейке памяти
Для регистров 00-99 используйте тег *calcReg*
**Программируемый калькулятор:**
-571 - нажатие клавиши после этой, если на той клавише назначен регистр памяти, то текущее значение индикатора помещается в тот регистр (аналог ПХ на мк61)
-572 - нажатие клавиши после этой, если на той клавише назначен регистр памяти, то происходит извлечение из значения регистра второй клавиши и вставка в индикатор калькулятора (аналог ИПХ на мк61)
-573 - устанавливает позицию в программе на первый шаг, или возврат из подпрограммы (клавиша в/о в мк61)
-574 - команда старт/стоп программы (аналог клавиши с/п в мк61)
-575 - команда перехода в режим вычислений
-576 - команда перехода в режим программирования
-577 - очистка памяти программ калькулятора и установка текущего шага на нулевую позицию
-578 - безусловный переход (аналог БП в МК61)
-520 - подпрограмма (аналог ПП в МК61)
-521 - команда x>=0
-522 - команда x<0
-523 - команда x=0
-524 - команда x!=0 (!= = неравно)
-525 - команда x>=y
-526 - команда x<y
-527 - команда x=y
-528 - команда x!=y (!= = неравно)
<a name="key_icons"></a>
## Иконки клавиш
В качестве иконки может быть задана одна из встроенных иконок:
*@drawable/sym_keyboard_forward_del* - иконка клавиши delete
*@drawable/sym_keyboard_delete* - иконка клавиши Backspace
*@drawable/sym_keyboard_done* - иконка клавиши Cancel (клавиша, которая закрывает клавиатуру)
*@drawable/sym_keyboard_return* - иконка клавиши Enter
*@drawable/sym_keyboard_shift* - иконка клавиши Shift
*@drawable/sym_keyboard_space* - иконка клавиши ПробелНапример, *android:keyIcon="@drawable/sym_keyboard_space"* отобразит на клавише иконку пробела.
Кроме того, можно задать путь к иконке, которая расположена в папке */mnt/sdcard/jbak2Keyboard/keyboards*
Например, android:keyIcon="myIcons/icon1.png" отобразит на клавише иконку*/mnt/sdcard/jbak2Keyboard/keyboards/myIcons/icon1.png*
Иконки должны быть белыми на прозрачном фоне. При отрисовке они окрашиваются в *цвет текста* текущего скина пользователя.
Для использования цветных иконок необходимо задать атрибут android:noColor="true" - тогда иконка не будет окрашиваться в цвет текста.
<a name="keyboard_sample">
## Примeр стандартной английской раскладки "псевдо Т9 в1.09":
---
```
<?xml version="1.0" encoding="utf-8"?>
<Keyboard xmlns:android="http://schemas.android.com/apk/res/android" android:keyWidth="10.0%p" >

 <Row>
  <Key android:keyLabel="!\nq1" android:codes="113,49" android:keyWidth="10.0%p" />
  <Key android:keyLabel="@\nw2" android:codes="119,50" android:keyWidth="10.0%p" />
  <Key android:keyLabel="№\ne3" android:codes="101,51" android:keyWidth="10.0%p" />
  <Key android:keyLabel="#\nr4" android:codes="114,52" android:keyWidth="10.0%p" />
  <Key android:keyLabel="€\nt5" android:codes="116,53" android:keyWidth="10.0%p" />
  <Key android:keyLabel="%\ny6" android:codes="121,54" android:keyWidth="10.0%p" />
  <Key android:keyLabel="&amp;\nu7" android:codes="117,55" android:keyWidth="10.0%p" />
  <Key android:keyLabel=".com\ni8" android:codes="105,56" android:keyWidth="10.0%p" />
  <Key android:keyLabel="^\no9" android:codes="111,57" android:keyWidth="10.0%p" />
  <Key android:keyLabel="=\np0" android:codes="112,48" android:keyWidth="10.0%p" />
 </Row>
 <Row>
  <Key android:keyLabel=":)\na$" android:codes="97,36" android:specKey="false" android:keyWidth="10.0%p" />
  <Key android:keyLabel=":(\ns" android:keyWidth="10.0%p" />
  <Key android:keyLabel="+\nd" android:keyWidth="10.0%p" />
  <Key android:keyLabel="*\nf" android:keyWidth="10.0%p" />
  <Key android:keyLabel="—\ng-" android:codes="103,45" android:keyWidth="9.65%p" />
  <Key android:keyLabel="&quot;\nh_" android:codes="104,95" android:specKey="false" android:keyWidth="9.65%p" />
  <Key android:keyLabel="\'\nj" android:codes="106" android:keyWidth="9.65%p" />
  <Key android:keyLabel="[S1]\nk" android:popupCharacters="([{/«~" android:codes="107" android:keyWidth="10.0%p" />
  <Key android:keyLabel="[S2]\nl" android:popupCharacters=")]}\»|" android:keyWidth="10.0%p" />
  <Key android:keyLabel="del" android:codes="-601" android:specKey="true" android:isRepeatable="true" android:keyWidth="12.5%p" />
 </Row>
 <Row>
  <Key android:longCode="-328" android:keyLabel="Hom\nz" android:specKey="true" android:keyWidth="10.0%p" />
  <Key android:keyLabel="Calc\nx" android:longCode="-517" android:keyWidth="10.0%p" />
  <Key android:keyLabel="#\nc" android:keyWidth="10.0%p" />
  <Key android:longCode="-329" android:keyLabel="End\nv" android:specKey="true" android:keyWidth="10.0%p" />
  <Key android:keyLabel="&lt;\nb" android:keyWidth="9.65%p" />
  <Key android:keyLabel="&gt;\nn" android:keyWidth="9.65%p" />
  <Key android:keyLabel="©\nm" android:keyWidth="9.65%p" />
  <Key android:keyLabel="?\n.ru" android:specKey="false" android:keyWidth="10.0%p" />
  <Key android:keyLabel="✉\nUrl" android:keyboard="$hide_url_suff_MWcorp_v100" android:longKeyboard="$hide_mail_MWcorp_v100" />
  <Key android:codes="-5" android:keyIcon="@drawable/sym_keyboard_delete" android:isRepeatable="true" android:keyWidth="12.5%p" />
 </Row>
 <Row>
  <Key android:codes="-1" android:keyIcon="@drawable/sym_keyboard_shift" android:isSticky="true" android:keyWidth="12.5%p" />
  <Key android:keyLabel="Hot" android:isSticky="true" android:codes="-307" android:specKey="true" android:smallLabel="true" />
  <Key android:keyLabel="sAll\nsel" android:isSticky="true" android:codes="-310" android:longCode="-323" android:specKey="true" android:smallLabel="true" android:keyWidth="12.5%p" />
  <Key android:codes="32" android:keyIcon="@drawable/sym_keyboard_space" android:keyWidth="20.0%p" android:isRepeatable="true" />
  <Key android:keyLabel=",\n." />
  <Key android:keyLabel=";\n:" />
  <Key android:keyLabel="↑" android:codes="19" android:isRepeatable="true" android:specKey="true" android:keyWidth="12.5%p" />
  <Key android:codes="10" android:keyIcon="@drawable/sym_keyboard_return" android:keyWidth="12.5%p" />
 </Row>
 <Row>
  <Key android:codes="-2" android:keyLabel="opt\n123" android:keyWidth="12.5%p" />
  <Key android:codes="-20" android:keyLabel="d_vr\nEn" android:keyWidth="12.5%p" />
  <Key android:codes="-502" android:longCode="-504" android:keyLabel="CBuf\ntpl" android:smallLabel="true" android:specKey="true" android:keyWidth="12.5%p" />
  <Key android:codes="-320" android:keyLabel="cop" android:smallLabel="true" android:specKey="true" android:keyWidth="12.5%p" />
  <Key android:codes="-321" android:keyLabel="pas" android:smallLabel="true" android:specKey="true" android:keyWidth="12.5%p" />
  <Key android:keyLabel="←" android:codes="21" android:isRepeatable="true" android:specKey="true" android:keyWidth="12.5%p" />
  <Key android:keyLabel="↓" android:codes="20" android:isRepeatable="true" android:specKey="true" android:keyWidth="12.5%p" />
  <Key android:keyLabel="→" android:codes="22" android:isRepeatable="true" android:specKey="true" android:keyWidth="12.5%p" />
 </Row>
</Keyboard>
```
